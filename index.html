<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Memory</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22 fill=%22%23d81b60%22>‚ù§</text></svg>">
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #ffd1dc; /* Pink pastel background */
            font-family: 'Arial', sans-serif;
            position: relative;
            min-height: 100vh;
            overflow-x: hidden; /* Prevent horizontal scroll */
            padding-bottom: 80px; /* Space at the bottom */
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            position: relative;
            z-index: 2;
        }

        .heart {
            position: fixed; /* Changed from absolute to fixed */
            color: #ff6b81;
            font-size: 24px;
            animation: fall 4s linear forwards;
            z-index: 1;
            pointer-events: none; /* Ensures hearts don't interfere with clicks */
        }

        @keyframes fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .title {
            color: #d81b60;
            text-align: center;
            margin-top: 50px;
            margin-bottom: 40px;
            font-size: 36px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .main-content {
            display: flex;
            justify-content: center;
            width: 100%;
            position: relative;
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 30px; /* Increased spacing between cards */
            max-width: 1010px;
            margin: 0 auto;
        }

        .card {
            width: 180px;
            height: 250px; /* Changed from square to rectangle */
            perspective: 1000px;
            cursor: pointer;
            margin-bottom: 20px;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }

        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }

        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .card-front {
            background-color: #f8bbd0;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .card-front img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .card-back {
            transform: rotateY(180deg);
            background-color: #f48fb1;
            padding: 15px;
            color: #4a0012;
            font-size: 14px;
            line-height: 1.4;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .card-header {
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 8px;
            color: #4a0012;
        }

        .card-divider {
            width: 80%;
            height: 2px;
            background-color: #e91e63;
            margin-bottom: 10px;
        }

        .card-message {
            flex: 1;
            overflow-y: auto;
            width: 100%;
            padding: 5px 0;
            display: flex;
            align-items: flex-start; /* Change from center to allow scrolling from top */
            justify-content: center;
        }

        .card-message p {
            width: 100%;
            margin: 0;
            padding: 0;
            overflow-wrap: break-word;
        }

        /* Added scrollbar styling for the message area */
        .card-message::-webkit-scrollbar {
            width: 5px;
        }

        .card-message::-webkit-scrollbar-thumb {
            background: #e91e63;
            border-radius: 10px;
        }

        .card-message::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
        }

        /* Initial heart rain animation */
        @keyframes initialHeartRain {
            0% {
                transform: translateY(-100vh) translateX(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) translateX(20px) rotate(360deg);
                opacity: 0;
            }
        }

        .initial-heart {
            position: fixed; /* Changed from absolute to fixed */
            color: #ff6b81;
            font-size: 24px;
            animation: initialHeartRain 4s linear forwards;
            z-index: 1;
            pointer-events: none;
        }

        .music-controls {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 10;
            display: flex;
            gap: 10px;
        }

        .music-controls button {
            background-color: #f06292;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        .music-controls button:hover {
            background-color: #e91e63;
        }
        
        /* Picture frames on sides */
        .side-pictures {
            position: fixed;
            top: 50%;
            transform: translateY(-50%);
            z-index: 2;
            display: flex;
            flex-direction: column;
            gap: 40px;
        }
        
        @media (max-width: 1400px) {
            .side-pictures {
                position: static;
                transform: none;
                flex-direction: row;
                justify-content: center;
                flex-wrap: wrap;
                margin: 30px 0;
            }
        }
        
        .side-pictures.left {
            left: 30px;
        }
        
        .side-pictures.right {
            right: 30px;
        }
        
        .picture-frame {
            width: 150px;
            height: 200px;
            background-color: #fff;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2), inset 0 0 5px rgba(0, 0, 0, 0.1);
            padding: 5px;
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease;
        }
        
        .picture-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .left .picture-frame:nth-child(1) {
            transform: rotate(-5deg);
        }
        
        .left .picture-frame:nth-child(2) {
            transform: rotate(3deg);
        }
        
        .right .picture-frame:nth-child(1) {
            transform: rotate(6deg);
        }
        
        .right .picture-frame:nth-child(2) {
            transform: rotate(-4deg);
        }
        
        .picture-frame:hover {
            transform: scale(1.05) rotate(0deg);
            z-index: 10;
        }

        /* Slideshow styling */
        .slideshow-container {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .slideshow-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        .slideshow-slide.active {
            opacity: 1;
        }

        .slideshow-controls {
            position: absolute;
            bottom: 10px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 5px;
            z-index: 5;
        }

        .slideshow-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.5);
            cursor: pointer;
        }

        .slideshow-dot.active {
            background-color: #fff;
        }

        .slideshow-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(255, 255, 255, 0.3);
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            font-size: 14px;
            line-height: 1;
            z-index: 5;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
        }

        .slideshow-btn:hover {
            background-color: rgba(255, 255, 255, 0.5);
        }

        .slideshow-prev {
            left: 5px;
        }

        .slideshow-next {
            right: 5px;
        }

        /* Responsive layout */
        @media (max-width: 1024px) {
            .card-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 768px) {
            .card-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 480px) {
            .card-grid {
                grid-template-columns: 1fr;
            }
            
            .title {
                font-size: 28px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title"><span id="todayDate"></span> <br> We've Shared <span id="daysCounter"><u>${dateAmount}</u></span> Beautiful Days Together <br> Here is just a few of our memoryüì∏</h1>

        <!-- Left side pictures -->
        <div class="side-pictures left">
            <div class="picture-frame">
                <img src="./assets/img/unnamed0.jpg" alt="Love Memory 1">
            </div>
            <div class="picture-frame">
                <img src="./assets/img/unnamed (3).jpg" alt="Love Memory 2">
            </div>
        </div>
        
        <div class="main-content">
            <div class="card-grid">
                <!-- Cards will be dynamically generated here -->
            </div>
        </div>
        
        <!-- Right side pictures -->
        <div class="side-pictures right">
            <div class="picture-frame">
                <img src="./assets/img/unnamed (4).jpg" alt="Love Memory 3">
            </div>
            <div class="picture-frame">
                <img src="./assets/img/fd13d578-84f2-4535-b54f-1ea4d39a19d7.jfif" alt="Love Memory 4">
            </div>
        </div>

        <h1 class="title">I love you, my sweet little sunshineüîÜ <br> Lets Make More Memory Together </h1>

    </div>

    <div class="music-controls">
        <button id="playMusic">üîä</button>
    </div>

    <audio id="bgMusic" allow="autoplay" loop>
        <!-- <source src="./assets/audio/Photograph - Ed Sheeran - t·∫£i mp3-l·ªùi b√†i h√°t.mp3" type="audio/mpeg"> -->
         <source src="./assets/audio/Elliot James Reay - I Think They Call This Love (Official Music Video).mp3" type="audio/mpeg">
        
        Your browser does not support the audio element.
    </audio>

    <script>
        function daysSince(dateString) {
            const oneDay = 24 * 60 * 60 * 1000; // hours * minutes * seconds * milliseconds
            const givenDate = new Date(dateString);
            const today = new Date();

            // Ensure time is not considered
            givenDate.setHours(0, 0, 0, 0);
            today.setHours(0, 0, 0, 0);

            const diffInTime = today - givenDate;
            const diffInDays = Math.floor(diffInTime / oneDay);

            return diffInDays;
        }

        const dateAmount = daysSince("2025-02-27");

        document.addEventListener('DOMContentLoaded', function() {
            const todayDate = new Date().toLocaleDateString('en-GB', { 
                day: '2-digit', 
                month: '2-digit', 
                year: 'numeric' 
            });            
            document.getElementById('todayDate').innerHTML = `<span style="text-decoration: underline;">${todayDate}</span>`;

            const dateAmount = daysSince("2025-02-27");
            document.getElementById('daysCounter').innerHTML = `<span style="text-decoration: underline;">${dateAmount}</span>`;
            
            const bgMusic = document.getElementById('bgMusic');
    
            bgMusic.volume = 0.3;
    
            // Function to attempt playing music
            const attemptPlayMusic = function() {
                bgMusic.play().catch(error => {
                    console.log("Still waiting for interaction: ", error);
                    // We'll try again on the next user interaction
                });
            };
            
            // Try to play on various user interactions
            const userInteractions = ['click', 'touchstart', 'keydown', 'scroll', 'mousemove'];
            
            userInteractions.forEach(event => {
                document.addEventListener(event, function interactionHandler() {
                    attemptPlayMusic();
                    
                    // If successful play occurs on any event, we can remove all listeners
                    bgMusic.addEventListener('playing', function() {
                        userInteractions.forEach(evt => {
                            document.removeEventListener(evt, interactionHandler);
                        });
                        console.log("Music started successfully!");
                    });
                }, { once: false }); // May need multiple attempts
            });
            
            // Also try when page becomes visible
            document.addEventListener('visibilitychange', function() {
                if (document.visibilityState === 'visible') {
                    attemptPlayMusic();
                }
            });
        });

        // Card data
        const cardData = [
            { 
                image: "unnamed (6).jpg", 
                date: "27/2",
                message: "<b>Tin nh·∫Øn ƒë·∫ßu ti√™n tr√™n Tinder.</b> V√†o l√∫c ƒë√≥ anh mu·ªën t√¨m m·ªôt ng∆∞·ªùi ƒë·ªÉ n√≥i chuy·ªán v√† g·ª≠i meme cho nhau. Anh kh√¥ng nghƒ© r·∫±ng m√¨nh s·∫Ω t√¨m th·∫•y em, m·ªôt ng∆∞·ªùi s·∫Ω thay ƒë·ªïi cu·ªôc s·ªëng c·ªßa anh." 
            },
            { 
                image: "unnamed3.jpg", 
                date: "6/3",
                message: "<b>Bu·ªïi t·ªëi xem phim ƒë·∫ßu ti√™n tr√™n Discord.</b> Ch√∫ng m√¨nh ƒë√£ c√πng xem The Gorge. Anh ƒë√£ h∆°i th·∫•t v·ªçng v√¨ mu·ªën nghe gi·ªçng c·ªßa em. Nh∆∞ng anh v·∫´n kh√° th√≠ch bu·ªïi t·ªëi ƒë√≥ v√¨ c√πng xem phim vs e. " 
            },
            { 
                image: ["Screenshot 2025-04-21 113734.png", "unnamed (26).jpg"], 
                date: "19/3",
                message: "<b>Bu·ªïi h·∫πn ƒë·∫ßu ti√™n.</b> Em l√†m anh h∆°i b·∫•t ng·ªù n√™n anh ƒë√£ h∆°i lo l·∫Øng v·ªÅ v·∫ª ngo√†i c·ªßa m√¨nh. Nh∆∞ng khi nh√¨n th·∫•y em, anh ƒë√£ qu√™n h·∫øt m·ªçi th·ª© xung quanh. Em th·∫≠t s·ª± r·∫•t xinh ƒë·∫πp v√† d·ªÖ th∆∞∆°ng. Anh v·∫´n gi·ªØ l·∫°i order c·ªßa em t·ªëi h√¥m ƒë√≥ ƒë·ªÉ c√≥ th·ªÉ mua cho m√≥n em th√≠ch v√† l√†m em b·∫•t ng·ªù." 
            },
            { 
                image: ["unnamed (8).jpg", "interstellar-poster-up.jpg", "108866de-1bbd-4947-8b24-0bc8f902bb0d.jfif"], 
                date: "22/3",
                message: "<b>L·∫ßn n·∫Øm tay ƒë·∫ßu ti√™n.</b> Anh ƒë√£ quy·∫øt ƒë·ªãnh n·∫Øm l·∫•y c∆° h·ªôi v√† n·∫Øm tay e trong l√∫c xem phim. C·∫£m gi√°c tay em th·∫≠t ·∫•m √°p v√† m·ªÅm m·∫°i. Anh l√™n k·∫ø ho·∫°ch kh√¥ng t·ªët n√™n h∆°n 11h c·∫£ 2 m·ªõi ƒëi ƒÉn t·∫°i Circle K nh∆∞ng em kh√¥ng tr√°ch m√≥c g√¨ anh." 
            },
            { 
                image: "unnamed2.jpg", 
                date: "23/3",
                message: "Ch√∫ng m√¨nh c√πng ng·ªìi xem phim <b>Ride Your Wave</b>. M·ªôt b·ªô phim t√¨nh c·∫£m c√≥ c·∫£ bu·ªìn v√† vui khi·∫øn anh nghƒ© v·ªÅ em v√† m·ªëi quan h·ªá c·ªßa ch√∫ng m√¨nh. " 
            },
            { 
                image: "vn-11134207-7qukw-lhy4tzuozh6pc2.jfif", 
                date: "25/3",
                message: "<b>M√≥n qu√† ƒë·∫ßu ti√™n.</b> Anh mu·ªën mua t·∫∑ng em m·ªôt m√≥n qu√†, m·ªôt th·ª© em c√≥ th·ªÉ x·∫£ nh·ªØng n·ªói bu·ªìn m√† em ch∆∞a th·ªÉ k·ªÉ v·ªõi anh. V√† m·ªôt cu·ªën s√°ch t√¥ m√†u ch√≠nh l√† m√≥n qu√† ho√†n h·∫£o m√† anh t√¨m th·∫•y. " 
            },
            { 
                image: ["unnamed (7).jpg", "unnamed (24).jpg"], 
                date: "27/3",
                message: "<b>L·∫ßn ƒë·∫ßu ti√™n anh ƒëi pub</b>. Anh ƒë√£ h∆°i lo l·∫Øng v√¨ kh√¥ng bi·∫øt th·ª±c ƒë∆°n c√≥ g√¨. anh th·ª±c s·ª± th·∫•y r·∫•t vui khi ƒë∆∞·ª£c ng·ªìi c√πng em v√† n√≥i nh·ªØng m·∫©u chuy·ªán nh·ªè nh·∫∑t." 
            },
            { 
                image: "1200wx1800h_1661793911854.jpg", 
                date: "29/3",
                message: "Ch√∫ng m√¨nh ƒëi tri·ªÉn l√£m Th√°i Lan v√† xem phim ·ªü ngo√†i tr·ªùi. H√¥m ƒë√≥ kh√° l·∫°nh v√† <b>em ƒë√£ t·ª±a ƒë·∫ßu v√†o vai anh</b> khi xem phim. Th·∫≠t s·ª± tim anh ƒë√£ r·∫•t dao ƒë·ªông l√∫c ƒë√≥. Kho·∫£ng kh·∫Øc ƒë√≥ d∆∞·ªùng nh∆∞ b·ªô phim ko c√≤n quan tr·ªçng n·ªØa m√† ch·ªâ c√≥ em v√† anh." 
            },
            { 
                image: ["unnamed (5).jpg", "unnamed (23).jpg"], 
                date: "1/4",
                message: "Anh bi·∫øt em s·∫Øp ƒëi Nha Trang v√† anh c≈©ng h∆°i lo l·∫Øng, anh ƒë√£ quy·∫øt ƒë·ªãnh mua b√≥ hoa em th√≠ch ƒë·ªÉ khi em v·ªÅ<b>, b√≥ hoa c√≥ th·ªÉ thay anh ƒë√≥n ch√†o em v·ªÅ nh√†.</b>" 
            },
            { 
                image: "Screenshot 2025-04-21 115114.png",
                date: "3/4", 
                message: "S√°ng h√¥m ƒë√≥ em bay v√†o Nha Trang, anh mu·ªën ƒë∆∞·ª£c ƒë∆∞a em ƒëi ra s√¢n bay nh∆∞ng kh√¥ng ƒë∆∞·ª£c nh∆∞ng anh v·∫´n <b>mu·ªën g·∫∑p em tr∆∞·ªõc khi em ƒëi</b> n√™n anh ƒë√£ d·∫≠y s·ªõm v√† ƒë·∫øn b√™n em tr∆∞·ªõc khi em ƒëi <b>v√¨ mu·ªën l√†m em b·∫•t ng·ªù.</b>" 
            },
            { 
                image: "unnamed (9).jpg", 
                date: "4/4",
                message: "Anh nghƒ© em s·∫Ω m·ªát nh∆∞ng em v·∫´n ƒë·ªìng √Ω ƒëi ch∆°i v·ªõi anh. anh ƒë√£ r·∫•t vui khi ƒë∆∞·ª£c g·∫∑p em, anh <b>mu·ªën l√†m em ƒë·ª° m·ªát</b>. Anh ƒë√£ r·∫•t vui khi ƒë∆∞·ª£c nh√¨n th·∫•y em c∆∞·ªùi v√† vui v·∫ª. T·ªëi h√¥m ƒë√≥ c≈©ng l√† l·∫ßn ƒë·∫ßu ti√™n anh <b>public m·ªëi quan h·ªá c·ªßa anh v·ªõi em.</b> " 
            },
            { 
                image: "6d4ad05d-9cb1-43a6-82ee-ecfbc46761b1.jfif", 
                date: "5/4",
                message: "<b>L·∫ßn ƒë·∫ßu ti√™n anh th·∫•y em say</b>. anh c·∫£m nh·∫≠n ƒë∆∞·ª£c l√∫c ƒë√≥ <b>em c·∫£m th·∫•y ƒë·ªß an to√†n khi ·ªü b√™n c·∫°nh anh ƒë·ªÉ th·ªÉ hi·ªán ra s·ª± h·ªìn nhi√™n c·ªßa m√¨nh.</b>" 
            },
            { 
                image: ["unnamed (10).jpg", "unnamed (22).jpg"], 
                date: "7/4",
                message: "<b>L·∫ßn ƒë·∫ßu ch√∫ng m√¨nh c√£i nhau.</b>" 
            },
            { 
                image: "3dc149da-d138-4d4d-87a1-4cdf17afebfe.jfif", 
                date: "9/4",
                message: "Em ph·∫£i v·ªÅ s·ªõm v√¨ m·∫π g·ªçi, nh∆∞ng tr∆∞·ªõc khi ƒëi, em ƒë√£ d·∫°y anh √¥m. <b>C√°i √¥m th·∫≠t l√¢u, th·∫≠t ·∫•m, r·ªìi n·ª• h√¥n nh·∫π tr√™n tr√°n.</b> ƒê√¥i m·∫Øt em trong ƒë√™m √°nh l√™n. M·ªôt n·ª• h√¥n v·ª•ng d·∫°i, nh·∫π nh√†ng v√† th·∫≠t s√¢u. Em nghe tim anh ƒë·∫≠p, c√≤n anh... ch·ªâ mong th·ªùi gian ng·ª´ng l·∫°i. Anh ph√°t hi·ªán ra anh ƒë√£ l√†m r∆°i khuy√™n tai c·ªßa em t·ªëi h√¥m ƒë√≥ (m·ªôt k·ª∑ ni·ªám ƒë√°ng nh·ªõ :v)" 
            },
            { 
                image: "unnamed.png", 
                date: "10/4",
                message: "S√°ng s·ªõm, anh quay l·∫°i n∆°i c≈©, t√¨m chi·∫øc hoa tai em ƒë√°nh r∆°i. V√† anh t√¨m th·∫•y ‚Äì m·ªôt n·ª≠a k·ª∑ ni·ªám ƒë·∫ßu ti√™n c·ªßa n·ª• h√¥n. <b>M·ªói ng∆∞·ªùi gi·ªØ m·ªôt chi·∫øc nh∆∞ gi·ªØ l·∫°i m·ªôt v·∫≠t k·ª∑ ni·ªám cho n·ª• h√¥n ƒë·∫ßu.</b>" 
            },
            { 
                image: "unnamed1.jpg", 
                date: "12/4",
                message: "M·ªôt v√≤ng h·ªì T√¢y v·ªõi chi·∫øc xe ƒë·∫°p, m·ªôt ly t√†o ph·ªõ anh mua cho em. Chi·ªÅu ƒë√≥n em tan h·ªçc, r·ªß nhau ra c√¥ng vi√™n C·∫ßu Gi·∫•y. <b>Nh·ªØng bu·ªïi chi·ªÅu ƒë∆°n gi·∫£n nh∆∞ng ƒë·∫ßy y√™u th∆∞∆°ng.</b>" 
            },
            { 
                image: ["download.png", "unnamed (21).jpg", "Screenshot 2025-04-21 092255.png","ce21e6b8-098e-482c-be76-0ec88a7eb0c0.jfif"], 
                date: "13/4",
                message: "H√¥m ƒë√≥, t·∫°i qu√°n cafe ban c√¥ng ·ªü ph·ªë c·ªï m√† em th√≠ch, <b>ch√∫ng m√¨nh ng·ªìi vi·∫øt ƒëi·ªÅu m√¨nh th√≠ch v√† mu·ªën b·ªè v√†o l·ªç sao.</b> C√πng nhau ƒë·ªçc, c√πng nhau ƒÉn t·ªëi, xem phim ‚ÄúBefore Sunrise‚Äù ‚Äì <b>em ng·ªß g·∫≠t tr√™n vai anh, c√≤n anh ch·ªâ mu·ªën gi·ªØ em nh∆∞ th·∫ø m√£i m√£i.</b> Em lu√¥n l√†m anh c·∫£m th·∫•y b·∫•t ng·ªù b·ªüi s·ª± s√°ng t·∫°o v√† ng·ªçt ng√†o c·ªßa em." 
            },
            { 
                image: ["Screenshot 2025-04-21 092333.png", "9f3ad046-ffd7-4a3c-8581-d7d1cb63efc4.jfif", ],
                date: "15-4",
                message: "C√¥ng vi√™n g·∫ßn nh√†, kimbap, ƒëua xe, ƒëi b·ªô quanh khu ph·ªë sang tr·ªçng. <b>Em su√Ωt n·ªØa ƒë√£ n·∫±m l√™n ƒë√πi anh.</b> Anh v√† em c√πng nhau tr·∫£ l·ªùi 10 c√¢u h·ªèi ƒë·ªÉ hi·ªÉu nhau h∆°n. Nh·ªØng c√°i √¥m, nh·ªØng n·ª• h√¥n... kh√¥ng d√†i, nh∆∞ng th·∫•m m√£i." 
            },
            { 
                image: "unnamed (1).jpg", 
                date: "18-4",
                message: "B·ªØa s√°ng chu·ªôc l·ªói. T·ªëi ƒë√≥ m∆∞a, m√¨nh kh√¥ng l√™n ƒë∆∞·ª£c h·ªì G∆∞∆°m. Nh∆∞ng l·∫°i c√≥ m·ªôt qu√°n cafe m√®o, c√πng nhau xem phim qu·∫£ qu√Ωt <b>em t·ª±a ƒë·∫ßu l√™n vai anh ‚Äì th·∫≠t ·∫•m √°p v√† ng·ªçt ng√†o, anh c√≥ th·ªÉ ng·ªìi nh∆∞ v·∫≠y m√£i.</b>" 
            },
            { 
                image: "Screenshot 2025-04-21 092356.png", 
                date: "20-4",
                message: "Em c√≥ deadline, nh∆∞ng v·∫´n r√°ng ho√†n th√†nh s·ªõm ƒë·ªÉ g·∫∑p anh. M√¨ v·∫±n th·∫Øn, kem Tr√†ng Ti·ªÅn, v√† nh·ªØng b∆∞·ªõc ch√¢n b√™n nhau quanh h·ªì G∆∞∆°m. <b>Ch·ªâ c·∫ßn em c√≤n n·∫Øm tay anh, anh s·∫Ω lu√¥n ƒëi c√πng em.</b>" 
            },
            { 
                image: "unnamed.jpg", 
                date: "23-4",
                message: "<b>M√≥n qu√† ƒë·∫∑c bi·ªát e l√†m ri√™ng cho anh.</b>" 
            },
            { 
                image: "unnamed6.jpg", 
                date: "25-4",
                message: "M·ªôt bu·ªïi t·ªëi t·∫°i qu√°n cafe ng·∫´u nhi√™n m√† ch√∫ng m√¨nh t√¨m th·∫•y. B√™n ngo√†i tr·ªùi m∆∞a to nh∆∞ng b√™n trong th·∫≠t ·∫•m √°p v√† tr√†n ƒë·∫ßy ti·∫øng c∆∞·ªùi." 
            },
            { 
                image: ["unnamed (11).jpg", "unnamed (19).jpg", "unnamed (20).jpg", "unnamed (25).jpg"], 
                date: "26-4",
                message: "C√πng em ƒëi mua qu√† cho em g√°i em v√† nh·ªØng nguy√™n li·ªáu cho t·∫•m thi·ªáp anh ƒëang l√†m." 
            },
            { 
                image: "unnamed7.jpg", 
                date: "27-4",
                message: "ƒêi ƒÉn c√πng em bu·ªïi tr∆∞a, t·ªëi ch√∫ng m√¨nh c√πng ƒëi d·∫°o ·ªü ph·ªë ƒëi b·ªô, ƒÉn c∆°m, ng·ªìi n√≥i chuy·ªán tr√™n qu√°n cafe s√¢n th∆∞·ª£ng. Lu·∫≠t v·ªÅ s·ªõm b·∫Øt ƒë·∫ßu c√≥ hi·ªáu l·ª±c :v." 
            },
            { 
                image: "download (1).png", 
                date: "29-4",
                message: "<b>L·∫ßn ƒë·∫ßu anh l√†m em kh√≥c.</b>" 
            },
            { 
                image: "unnamed5.jpg", 
                date: "1-5",
                message: "<b>Bu·ªïi g·∫∑p nhau sau h√¥m ƒë√≥. M·ªôt ng√†y nhi·ªÅu c·∫£m x√∫c.</b>" 
            },
            { 
                image: "o4zeRCfW6EzZjMAEh9AgN1hJy2IZ2RcBQAMyUC~tplv-tej9nj120t-origin.jpg", 
                date: "2-5",
                message: "ƒê∆°n gi·∫£n l√† m·ªôt bu·ªïi chi·ªÅu t·∫°i c√¥ng vi√™n, hai chi·∫øc b√°nh ng·ªçt v√† nh·ªØng c√¢u chuy·ªán nh·ªè. Th·∫≠t nh·∫π nh√†ng v√† ·∫•m √°p." 
            },
            { 
                image: ["unnamed4.jpg","a4ed7005-deca-4eac-897b-82a0282cfc4f.jfif", "unnamed (16).jpg", "referenceSchemeHeadOfficeallowPlaceHoldertrueheight700ldapp-6.png"], 
                date: "3-5",
                message: "M·ªôt ng√†y em plan cho anh. Ch√∫ng m√¨nh ƒë√£ c√πng nhau ƒëi xem phim Thunderbolts, l√™n ph·ªë c·ªï ƒÉn t·ªëi v√† cafe, r·ªìi c√πng ƒëi tour ƒë√™m VƒÉn Mi·∫øu. Th·∫≠t l√¢u r·ªìi m·ªõi c√≥ c·∫£ m·ªôt ng√†y ƒë∆∞·ª£c ·ªü b√™n em." 
            },
            { 
                image: ["unnamed (12).jpg", "2ade70f8-0747-4136-a461-48597570b852.jfif", "4f2f5de5-44f3-4840-940b-cb38b70faff6.jfif", "unnamed (18).jpg", "unnamed (17).jpg", "unnamed (14).jpg"], 
                date: "4-5",
                message: "<b>Our Special day ‚ù§Ô∏è.</b>" 
            },
            { 
                image: ["a69aaead-7a4a-426d-a9af-9a6c44b02c02_sVy6SM6n.gif", "unnamed (13).jpg", "unnamed (15).jpg"], 
                date: "6-5",
                message: "M√≥n qu√† em l√†m t·∫∑ng anh, n√≥ l√† m·ªôt m√°y coupon. Trong ƒë√≥ ch·ª©a r·∫•t nhi·ªÅu th·ª© t·ª´ nh·ªØng vi·ªác ch√∫ng m√¨nh c√≥ th·ªÉ l√†m c√πng nhau cho ƒë·∫øn nh·ªØng √Ω t∆∞·ªüng cho m·ªôt ng√†y th√∫ v·ªã c√πng em. Anh s·∫Ω lu√¥n tr√¢n tr·ªçng m·ªçi m√≥n qu√† em t·∫∑ng anh. Em n·∫±m l√™n ƒë√πi anh trong khi k·ªÉ nh·ªØng c√¢u chuy·ªán v√† anh lu·ªìn tay qua m√°i t√≥c c·ªßa em. C·∫£m gi√°c th·∫≠t tuy·ªát ‚ù§Ô∏è." 
            },
            { 
                image: ["93d8eaf7-bb36-48bb-b688-f011be49a7ad.jfif"], 
                date: "10-5",
                message: "M·ªôt bu·ªïi h·∫πn th·∫≠t ng·∫Øn. Ch√∫ng m√¨nh ch·ªâ k·ªãp c√πng nhau ƒÉn v·∫∑t v√† ƒëi d·∫°o quanh h·ªì c√πng nh·ªØng c√¢u chuy·ªán nh·ªè, anh c√≤n ch∆∞a kip √¥m em th√¨ em ƒë√£ ph·∫£i v·ªÅ r·ªìi." 
            },
            { 
                image: ["642d6102-b1ea-4d00-bbdd-4a8de3b98a86.jfif", "1dd8587f-67ff-4db8-a64e-f7ba5bd0f352.jfif", "Screenshot 2025-05-15 124046.png","25ae0c90-09ff-4454-b49b-ef62a625ee6d.jfif"], 
                date: "11-5",
                message: "ƒê√≥n em sau khi em ƒëi h·ªçc v·ªÅ, c√πng nhau ƒëi ƒÉn t·ªëi (l·∫©u ·∫øch >.<). Ch√∫ng m√¨nh c√πng nhau ƒëi cafe n·∫±m v√† xem phim. Em ƒë√£ ng·ªß m·ªôt ch√∫t trong l√≤ng anh. ∆Ø·ªõc g√¨ ƒë∆∞·ª£c nh∆∞ v·∫≠y m√£i ‚ù§Ô∏è." 
            },
            { 
                image: ["b66bcd3d-fd6d-43ff-8be7-06b09a17d0e0.gif", "d88028ba-8515-4025-95d7-b4523a183a16.jfif", "6edd4161-7a73-4c95-b1e3-097e00c6535d.jfif", "unnamed (27).jpg"], 
                date: "13-5",
                message: "Ch√∫ng m√¨nh c√πng ch∆°i boardgame t·∫°i qu√°n cafe. Th·ªùi gian tr√¥i qua th·∫≠t nhanh, c·∫£m gi√°c th·ªùi gian ·ªü b√™n em th·∫≠t ng·∫Øn ng·ªßi. Ch√∫ng m√¨nh √¥m nhau th·∫≠t ch·∫∑t r·ªìi ph·∫£i ƒëi v·ªÅ :<." 
            },
        ];

        // Create cards
        const cardGrid = document.querySelector('.card-grid');
        
        cardData.forEach((card, index) => {
            const cardElement = document.createElement('div');
            cardElement.className = 'card';
            
            // Check if card.image is an array or a single string
            let frontContent = '';
            if (Array.isArray(card.image) && card.image.length > 1) {
                // Create slideshow for multiple images
                frontContent = `
                    <div class="slideshow-container" data-card-index="${index}">
                        ${card.image.map((img, imgIndex) => `
                            <div class="slideshow-slide ${imgIndex === 0 ? 'active' : ''}" data-slide-index="${imgIndex}">
                                <img src="./assets/img/${img}" alt="Love Memory ${index + 1}-${imgIndex + 1}">
                            </div>
                        `).join('')}
                        <div class="slideshow-controls">
                            ${card.image.map((_, dotIndex) => `
                                <div class="slideshow-dot ${dotIndex === 0 ? 'active' : ''}" data-slide-index="${dotIndex}"></div>
                            `).join('')}
                        </div>
                        <button class="slideshow-btn slideshow-prev" data-card-index="${index}">&lt;</button>
                        <button class="slideshow-btn slideshow-next" data-card-index="${index}">&gt;</button>
                    </div>
                `;
            } else {
                // Single image display
                const imgSrc = Array.isArray(card.image) ? card.image[0] : card.image;
                frontContent = `<img src="./assets/img/${imgSrc || '/api/placeholder/180/250'}" alt="Love Card ${index + 1}">`;
            }
            
            cardElement.innerHTML = `
                <div class="card-inner">
                    <div class="card-front">
                        ${frontContent}
                    </div>
                    <div class="card-back">
                        <div class="card-header">${card.date}</div>
                        <div class="card-divider"></div>
                        <div class="card-message">
                            <p>${card.message}</p>
                        </div>
                    </div>
                </div>
            `;
            cardGrid.appendChild(cardElement);
            
            // Add flip functionality
            cardElement.addEventListener('click', function(e) {
                // Don't flip if clicking on slideshow controls
                if (e.target.closest('.slideshow-btn') || e.target.closest('.slideshow-dot')) {
                    e.stopPropagation();
                    return;
                }
                
                this.classList.toggle('flipped');
                createHeartRain(20); // Increased number of hearts when card is flipped
            });
        });

        // Add slideshow functionality
        function setupSlideshows() {
            // Set up next/prev buttons
            document.querySelectorAll('.slideshow-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const cardIndex = this.getAttribute('data-card-index');
                    const container = document.querySelector(`.slideshow-container[data-card-index="${cardIndex}"]`);
                    const slides = container.querySelectorAll('.slideshow-slide');
                    const dots = container.querySelectorAll('.slideshow-dot');
                    
                    // Find current active slide
                    let currentIndex = 0;
                    slides.forEach((slide, idx) => {
                        if (slide.classList.contains('active')) {
                            currentIndex = idx;
                        }
                    });
                    
                    // Calculate new index
                    let newIndex;
                    if (this.classList.contains('slideshow-next')) {
                        newIndex = (currentIndex + 1) % slides.length;
                    } else {
                        newIndex = (currentIndex - 1 + slides.length) % slides.length;
                    }
                    
                    // Update active slide and dot
                    slides[currentIndex].classList.remove('active');
                    dots[currentIndex].classList.remove('active');
                    slides[newIndex].classList.add('active');
                    dots[newIndex].classList.add('active');
                    
                    createHeartRain(5); // Create a few hearts on slide change
                });
            });
            
            // Set up dots
            document.querySelectorAll('.slideshow-dot').forEach(dot => {
                dot.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const slideIndex = this.getAttribute('data-slide-index');
                    const container = this.closest('.slideshow-container');
                    const slides = container.querySelectorAll('.slideshow-slide');
                    const dots = container.querySelectorAll('.slideshow-dot');
                    
                    // Remove active class from all slides and dots
                    slides.forEach(slide => slide.classList.remove('active'));
                    dots.forEach(dot => dot.classList.remove('active'));
                    
                    // Add active class to selected slide and dot
                    slides[slideIndex].classList.add('active');
                    this.classList.add('active');
                    
                    createHeartRain(5); // Create a few hearts on slide change
                });
            });
            
            // Auto-advance slideshows
            const slideshows = document.querySelectorAll('.slideshow-container');
            slideshows.forEach(slideshow => {
                const cardIndex = slideshow.getAttribute('data-card-index');
                setInterval(() => {
                    // Only auto-advance if the card is not flipped
                    const card = slideshow.closest('.card');
                    if (!card.classList.contains('flipped')) {
                        const nextBtn = slideshow.querySelector('.slideshow-next');
                        nextBtn.click();
                    }
                }, 2500 + (cardIndex * 400)); // Stagger the timers slightly
            });
        }

        // Call setup after creating cards
        setupSlideshows();

        // Function to create falling hearts
        function createHeart(className = 'heart') {
            const heart = document.createElement('div');
            heart.className = className;
            heart.innerHTML = '‚ù§';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.top = '-50px'; // Start above the viewport
            heart.style.animationDuration = Math.random() * 3 + 2 + 's';
            heart.style.fontSize = Math.random() * 24 + 10 + 'px';
            heart.style.opacity = Math.random() * 0.5 + 0.5;
            document.body.appendChild(heart);
            
            // Remove heart after animation completes
            setTimeout(() => {
                heart.remove();
            }, 5000);
            
            return heart;
        }

        // Create falling hearts on click
        document.addEventListener('click', (e) => {
            if (e.target.closest('.card') || e.target.closest('.picture-frame') || e.target.closest('.music-controls') || e.target.closest('.slideshow-btn') || e.target.closest('.slideshow-dot')) {
                // Don't create hearts for card/frame/control clicks as they have their own hearts
                return;
            }
            const heart = createHeart();
            heart.style.left = e.clientX + 'px';
            heart.style.top = e.clientY + 'px';
        });

        // Function to create a rain of hearts
        function createHeartRain(count, className = 'heart') {
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    createHeart(className);
                }, i * 50);
            }
        }

        // Global variable to store interval
        let heartRainInterval;

        // Function to continuously create hearts
        function createContinuousHeartRain() {
            // Create 1-3 hearts every interval
            const heartCount = Math.floor(Math.random() * 3) + 1;
            for (let i = 0; i < heartCount; i++) {
                createHeart();
            }
        }

        // Initial heart rain when page loads
        window.addEventListener('load', () => {
            // Initial burst of hearts
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const heart = createHeart('initial-heart');
                    heart.style.left = Math.random() * 100 + 'vw';
                }, i * 50);
            }

            // Start continuous heart rain that never stops
            heartRainInterval = setInterval(createContinuousHeartRain, 400);

            // Try to play music automatically
            const bgMusic = document.getElementById('bgMusic');
            bgMusic.volume = 0.3;
            const playPromise = bgMusic.play();
            
            if (playPromise !== undefined) {
                playPromise.catch(error => {
                    console.log("Autoplay prevented: ", error);
                });
            }
        });

        // Keep hearts falling even when tab is inactive
        document.addEventListener('visibilitychange', () => {
            if (document.visibilityState === 'visible') {
                // If interval was cleared, restart it
                if (!heartRainInterval) {
                    heartRainInterval = setInterval(createContinuousHeartRain, 400);
                }
            }
        });

        // Music controls
        document.getElementById('playMusic').addEventListener('click', () => {
            const bgMusic = document.getElementById('bgMusic');
            const button = document.getElementById('playMusic');
            
            if (bgMusic.muted) {
                bgMusic.muted = false;
                button.innerHTML = 'üîä'; // Music note symbol for unmuted
            } else {
                bgMusic.muted = true;
                button.innerHTML = 'üîá'; // Different symbol for muted (or use 'üîá')
            }
        });
        
        // Add interaction to side pictures
        const pictures = document.querySelectorAll('.picture-frame');
        pictures.forEach(picture => {
            picture.addEventListener('click', () => {
                createHeartRain(15);
            });
        });

        // Make sure side pictures are positioned properly on window resize
        window.addEventListener('resize', () => {
            const sidePictures = document.querySelectorAll('.side-pictures');
            if (window.innerWidth <= 1400) {
                sidePictures.forEach(div => {
                    div.style.position = 'static';
                    div.style.transform = 'none';
                });
            } else {
                const leftPics = document.querySelector('.side-pictures.left');
                const rightPics = document.querySelector('.side-pictures.right');
                
                leftPics.style.position = 'fixed';
                leftPics.style.transform = 'translateY(-50%)';
                
                rightPics.style.position = 'fixed';
                rightPics.style.transform = 'translateY(-50%)';
            }
        });
    </script>
</body>
</html>